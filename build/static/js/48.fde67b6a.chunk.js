"use strict";(self.webpackChunkinmobitas_client=self.webpackChunkinmobitas_client||[]).push([[48],{991:function(n,e,t){t(7313);var r=t(7908),i=t(6417);e.Z=function(n){var e=n.icon,t=n.onClick,o=n.color;return(0,i.jsx)(r.Z,{flex:1,display:"flex",justifyContent:"center",alignItems:"center",borderLeft:"1px solid #EDEFF5",onClick:t,height:"100%",width:"100%",children:(0,i.jsx)(e,{color:o})})}},7403:function(n,e,t){var r=t(5861),i=t(4942),o=t(1413),u=t(9439),c=t(7757),a=t.n(c),s=t(7313),l=t(7890),d=t(6352),f=t(2682),h=t(7908),p=t(6267),g=t(5611),v=t(6020),w=t(3202),Z=t(2649),x=t(9502),m=t(5818),j=t(1837),b=t(3819),k=t(3320),I=t(5110),P=t(2497),S=t(8408),C=t(9873),E=t(991),H=t(5997),y=t(8710),T=t(6417);e.Z=function(n){var e=n.source,t=n.setSource,c=n.labels,A=n.detailRouteStructure,M=n.editRouteStructure,R=n.deleteBaseUrl,L=(0,l.s0)(),W=(0,s.useRef)(null),z=(0,P.Z)(W),U=(0,d.v9)(f.vn),O=(0,s.useState)(null),F=(0,u.Z)(O,2),_=F[0],B=F[1],X=(0,s.useState)(),Y=(0,u.Z)(X,2),D=Y[0],G=Y[1],N=(0,S.Z)(),$=(0,s.useMemo)((function(){return e.map((function(n){return Object.keys(n).reduce((function(e,t){return(0,o.Z)((0,o.Z)({},e),{},(0,i.Z)({},t,n[t]))}),{})}))}),[e]),q=(0,s.useMemo)((function(){return e.length?Object.keys(e[0]).filter((function(n){return!n.includes("Id")})).map((function(n,e){return{Header:c[e],accessor:n}})):[]}),[e]),J=(0,I.useTable)({columns:q,data:$,initialState:{pageIndex:0}},I.usePagination),K=J.getTableProps,Q=J.headerGroups,V=J.prepareRow,nn=J.page,en=J.pageCount,tn=J.state,rn=J.setPageSize,on=J.previousPage,un=J.nextPage,cn=J.gotoPage,an=function(){var n=(0,r.Z)(a().mark((function n(r,i,o){var u,c;return a().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,H.Z.delete("".concat(R,"/").concat(r,"/").concat(i));case 2:u=n.sent,c=e.filter((function(n){return n[o]!==u.data})),t(c),B(null);case 6:case"end":return n.stop()}}),n)})));return function(e,t,r){return n.apply(this,arguments)}}();(0,s.useEffect)((function(){if(z){var n=(0,y.b)(z,64);n>0&&rn(n)}}),[z]);return(0,T.jsxs)(h.Z,{children:[(0,T.jsxs)(p.Z,(0,o.Z)((0,o.Z)({flex:1},K()),{},{children:[(0,T.jsxs)(g.Z,{display:"flex",userSelect:"none",children:[Q.map((function(n){return n.headers.map((function(n,e){return(0,T.jsx)(v.Z,(0,o.Z)((0,o.Z)({flex:.45},n.getHeaderProps()),{},{children:n.render("Header")}))}))})),(0,T.jsx)(v.Z,{flex:.3})]}),(0,T.jsx)(w.Z,{ref:W,height:z,children:nn.map((function(n,t){var r=Object.keys(n.original).find((function(n){return n.includes("Id")}));return V(n),(0,T.jsxs)(Z.Z,(0,o.Z)((0,o.Z)({isHighlighted:_===t,color:"#3a3e58",display:"flex",cursor:"pointer",onMouseOver:"desktop"===N?function(){return B(t)}:void 0,onMouseLeave:"desktop"===N?function(){return B(null)}:void 0,onTouchStart:"touchscreen"===N?function(){G(setTimeout((function(){return B(t)}),500))}:void 0,onTouchEnd:"touchscreen"===N?function(){clearTimeout(D)}:void 0,onTouchMove:"touchscreen"===N?function(){clearTimeout(D)}:void 0,onClick:function(){"touchscreen"===N&&_?B(null):L((0,C.UM)(e[t],A))}},n.getRowProps()),{},{children:[n.cells.map((function(e,t){return(0,T.jsx)(x.Z,{flex:.45,paddingX:t===n.cells.length-1?0:12,children:(0,T.jsx)(m.Z,{children:e.render("Cell")})},"item-prop-".concat(t))})),(0,T.jsx)(x.Z,{flex:.3,paddingX:0,children:t===_&&(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)(E.Z,{icon:j.d,onClick:function(n){n.stopPropagation(),L((0,C.UM)(e[t],M))}}),(0,T.jsx)(E.Z,{icon:b.a,color:"danger",onClick:function(e){e.stopPropagation(),an(U,n.original[r],r)}})]})})]}))}))})]})),(0,T.jsx)(h.Z,{width:"100%",display:"flex",justifyContent:"center",children:(0,T.jsx)(k.Z,{margin:"auto",page:tn.pageIndex+1,totalPages:en,onNextPage:un,onPreviousPage:on,onPageChange:function(n){return cn(n-1)}})})]})}},8710:function(n,e,t){t.d(e,{b:function(){return r}});var r=function(n,e){return Math.floor(n/e)}},497:function(n,e,t){t.d(e,{Il:function(){return o},YC:function(){return r},ub:function(){return i}});var r=992,i=768,o=480},8408:function(n,e){e.Z=function(){return"ontouchstart"in document.documentElement?"touchscreen":"desktop"}},2497:function(n,e,t){var r=t(9439),i=t(7313);e.Z=function(n,e){var t,o=(0,i.useState)(),u=(0,r.Z)(o,2),c=u[0],a=u[1],s=function(){if(null!==n&&void 0!==n&&n.current){var t,r=0;r=window.innerHeight-(null===(t=n.current)||void 0===t?void 0:t.offsetTop)-1,e&&(r-=e),a(r-70)}};return(0,i.useEffect)((function(){return s(),window.addEventListener("resize",s),function(){return window.removeEventListener("resize",s)}}),[]),(0,i.useEffect)((function(){s()}),[null===(t=n.current)||void 0===t?void 0:t.offsetTop]),c}},7202:function(n,e,t){var r=t(9439),i=t(7313);e.Z=function(){var n=(0,i.useState)({windowInnerWidth:window.innerWidth,windowInnerHeight:window.innerHeight}),e=(0,r.Z)(n,2),t=e[0],o=e[1];return(0,i.useEffect)((function(){return window.addEventListener("resize",(function(){o({windowInnerWidth:window.innerWidth,windowInnerHeight:window.innerHeight})})),function(){window.removeEventListener("resize",(function(){o({windowInnerWidth:window.innerWidth,windowInnerHeight:window.innerHeight})}))}}),[]),t}},5048:function(n,e,t){t.r(e);var r=t(3433),i=t(5861),o=t(9439),u=t(7757),c=t.n(u),a=t(7313),s=t(6352),l=t(7908),d=t(4511),f=t(7202),h=t(5997),p=t(2682),g=t(7403),v=(t(8435),t(497)),w=t(6174),Z=t(6417);e.default=function(){var n=(0,a.useState)([]),e=(0,o.Z)(n,2),t=e[0],u=e[1],x=(0,s.v9)(p.vn),m=(0,d.$)(["listing"]).t,j=(0,f.Z)().windowInnerWidth;return(0,a.useEffect)((function(){(0,i.Z)(c().mark((function n(){var e;return c().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,h.Z.get("/listings/".concat(x));case 3:e=n.sent,console.log(e.data),u(e.data),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()}),[]),(0,Z.jsx)(l.Z,{children:t&&(0,Z.jsx)(g.Z,{source:j>v.Il?t:(0,w.A)(t),setSource:u,labels:[m("district"),m("neighborhood")].concat((0,r.Z)(j>v.Il?[m("totalArea")+" m\xb2",m("builtArea")+" m\xb2"]:[])),detailRouteStructure:["listingdetail","clientId","estateId"],editRouteStructure:["editlisting","clientId","estateId"],deleteBaseUrl:"/listings"})})}},6174:function(n,e,t){t.d(e,{A:function(){return u}});var r=t(1413),i=t(5987),o=["totalArea","builtArea"],u=function(n){return n.map((function(n){n.totalArea,n.builtArea;var e=(0,i.Z)(n,o);return(0,r.Z)({},e)}))}},5997:function(n,e,t){t.d(e,{Y:function(){return c}});var r=t(1881),i=t.n(r),o=t(460),u=t(8121),c={withCredentials:!0,baseURL:"https://inmobitas.herokuapp.com/"},a=i().create(c);a.interceptors.response.use((function(n){return n}),(function(n){return n.response.data.authorizationError&&o.h.dispatch((0,u.P_)()),Promise.reject(n)})),e.Z=a},8435:function(){}}]);