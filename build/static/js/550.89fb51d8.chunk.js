"use strict";(self.webpackChunkinmobitas_client=self.webpackChunkinmobitas_client||[]).push([[550],{550:function(n,e,t){t.r(e);var i=t(3433),r=t(5861),o=t(9439),c=t(7757),u=t.n(c),s=t(7313),l=t(6352),a=t(4511),d=t(7890),f=t(8225),h=t(7908),g=t(7202),Z=t(5997),x=t(2682),p=t(9873),v=t(6267),w=t(3202),j=t(2649),m=t(9502),b=t(7403),k=t(497),I=t(6174),P=t(6417);e.default=function(n){var e=n.clientData,t=(0,s.useState)([]),c=(0,o.Z)(t,2),C=c[0],S=c[1],E=(0,l.v9)(x.vn),H=(0,d.UO)(),y=(0,a.$)(["client","listing"]).t,A=(0,g.Z)().windowInnerWidth;return(0,s.useEffect)((function(){(0,r.Z)(u().mark((function n(){var e;return u().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Z.Z.get("/listings/".concat(E,"/").concat(H.clientid));case 3:e=n.sent,S(e.data),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()}),[]),(0,P.jsxs)("div",{children:[e&&(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(f.Z,{is:"h1",size:800,margin:20,children:(0,p.Q6)(e.clientName)}),(0,P.jsx)(v.Z,{children:(0,P.jsxs)(w.Z,{children:[(0,P.jsxs)(j.Z,{children:[(0,P.jsx)(m.Z,{children:y("contactPhone",{ns:"client"})}),(0,P.jsx)(m.Z,{children:e.clientContactPhone})]}),(0,P.jsxs)(j.Z,{children:[(0,P.jsx)(m.Z,{children:y("clientAge",{ns:"client"})}),(0,P.jsx)(m.Z,{children:e.clientAge})]}),(0,P.jsxs)(j.Z,{children:[(0,P.jsx)(m.Z,{children:y("clientDetails",{ns:"client"})}),(0,P.jsx)(m.Z,{children:e.clientDetails})]})]})})]}),(0,P.jsxs)(h.Z,{overflow:"scroll",borderColor:"black",children:[(0,P.jsx)(f.Z,{is:"h2",size:700,fontWeight:500,margin:20,children:y("estates",{ns:"listing"})}),C&&(0,P.jsx)(b.Z,{source:A>k.Il?C:(0,I.A)(C),setSource:S,labels:[y("district",{ns:"listing"}),y("neighborhood",{ns:"listing"})].concat((0,i.Z)(A>k.Il?[y("totalArea",{ns:"listing"})+" m\xb2",y("builtArea",{ns:"listing"})+" m\xb2"]:[])),detailRouteStructure:["listingdetail","clientId","estateId"],editRouteStructure:["editlisting","clientId","estateId"],deleteBaseUrl:"/listings"})]})]})}},991:function(n,e,t){t(7313);var i=t(7908),r=t(6417);e.Z=function(n){var e=n.icon,t=n.onClick,o=n.color;return(0,r.jsx)(i.Z,{flex:1,display:"flex",justifyContent:"center",alignItems:"center",borderLeft:"1px solid #EDEFF5",onClick:t,height:"100%",width:"100%",children:(0,r.jsx)(e,{color:o})})}},7403:function(n,e,t){var i=t(5861),r=t(4942),o=t(1413),c=t(9439),u=t(7757),s=t.n(u),l=t(7313),a=t(7890),d=t(6352),f=t(2682),h=t(7908),g=t(6267),Z=t(5611),x=t(6020),p=t(3202),v=t(2649),w=t(9502),j=t(5818),m=t(1837),b=t(3819),k=t(3320),I=t(5110),P=t(2497),C=t(8408),S=t(9873),E=t(991),H=t(5997),y=t(8710),A=t(6417);e.Z=function(n){var e=n.source,t=n.setSource,u=n.labels,T=n.detailRouteStructure,M=n.editRouteStructure,W=n.deleteBaseUrl,z=(0,a.s0)(),R=(0,l.useRef)(null),L=(0,P.Z)(R),O=(0,d.v9)(f.vn),U=(0,l.useState)(null),D=(0,c.Z)(U,2),F=D[0],B=D[1],N=(0,l.useState)(),X=(0,c.Z)(N,2),_=X[0],G=X[1],Q=(0,C.Z)(),Y=(0,l.useMemo)((function(){return e.map((function(n){return Object.keys(n).reduce((function(e,t){return(0,o.Z)((0,o.Z)({},e),{},(0,r.Z)({},t,n[t]))}),{})}))}),[e]),$=(0,l.useMemo)((function(){return e.length?Object.keys(e[0]).filter((function(n){return!n.includes("Id")})).map((function(n,e){return{Header:u[e],accessor:n}})):[]}),[e]),q=(0,I.useTable)({columns:$,data:Y,initialState:{pageIndex:0}},I.usePagination),J=q.getTableProps,K=q.headerGroups,V=q.prepareRow,nn=q.page,en=q.pageCount,tn=q.state,rn=q.setPageSize,on=q.previousPage,cn=q.nextPage,un=q.gotoPage,sn=function(){var n=(0,i.Z)(s().mark((function n(i,r,o){var c,u;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,H.Z.delete("".concat(W,"/").concat(i,"/").concat(r));case 2:c=n.sent,u=e.filter((function(n){return n[o]!==c.data})),t(u),B(null);case 6:case"end":return n.stop()}}),n)})));return function(e,t,i){return n.apply(this,arguments)}}();(0,l.useEffect)((function(){if(L){var n=(0,y.b)(L,64);n>0&&rn(n)}}),[L]);return(0,A.jsxs)(h.Z,{children:[(0,A.jsxs)(g.Z,(0,o.Z)((0,o.Z)({flex:1},J()),{},{children:[(0,A.jsxs)(Z.Z,{display:"flex",userSelect:"none",children:[K.map((function(n){return n.headers.map((function(n,e){return(0,A.jsx)(x.Z,(0,o.Z)((0,o.Z)({flex:.45},n.getHeaderProps()),{},{children:n.render("Header")}))}))})),(0,A.jsx)(x.Z,{flex:.3})]}),(0,A.jsx)(p.Z,{ref:R,height:L,children:nn.map((function(n,t){var i=Object.keys(n.original).find((function(n){return n.includes("Id")}));return V(n),(0,A.jsxs)(v.Z,(0,o.Z)((0,o.Z)({isHighlighted:F===t,color:"#3a3e58",display:"flex",cursor:"pointer",onMouseOver:"desktop"===Q?function(){return B(t)}:void 0,onMouseLeave:"desktop"===Q?function(){return B(null)}:void 0,onTouchStart:"touchscreen"===Q?function(){G(setTimeout((function(){return B(t)}),500))}:void 0,onTouchEnd:"touchscreen"===Q?function(){clearTimeout(_)}:void 0,onTouchMove:"touchscreen"===Q?function(){clearTimeout(_)}:void 0,onClick:function(){"touchscreen"===Q&&F?B(null):z((0,S.UM)(e[t],T))}},n.getRowProps()),{},{children:[n.cells.map((function(e,t){return(0,A.jsx)(w.Z,{flex:.45,paddingX:t===n.cells.length-1?0:12,children:(0,A.jsx)(j.Z,{children:e.render("Cell")})},"item-prop-".concat(t))})),(0,A.jsx)(w.Z,{flex:.3,paddingX:0,children:t===F&&(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(E.Z,{icon:m.d,onClick:function(n){n.stopPropagation(),z((0,S.UM)(e[t],M))}}),(0,A.jsx)(E.Z,{icon:b.a,color:"danger",onClick:function(e){e.stopPropagation(),sn(O,n.original[i],i)}})]})})]}))}))})]})),(0,A.jsx)(h.Z,{width:"100%",display:"flex",justifyContent:"center",children:(0,A.jsx)(k.Z,{margin:"auto",page:tn.pageIndex+1,totalPages:en,onNextPage:cn,onPreviousPage:on,onPageChange:function(n){return un(n-1)}})})]})}},8710:function(n,e,t){t.d(e,{b:function(){return i}});var i=function(n,e){return Math.floor(n/e)}},497:function(n,e,t){t.d(e,{Il:function(){return o},YC:function(){return i},ub:function(){return r}});var i=992,r=768,o=480},8408:function(n,e){e.Z=function(){return"ontouchstart"in document.documentElement?"touchscreen":"desktop"}},2497:function(n,e,t){var i=t(9439),r=t(7313);e.Z=function(n,e){var t,o=(0,r.useState)(),c=(0,i.Z)(o,2),u=c[0],s=c[1],l=function(){if(null!==n&&void 0!==n&&n.current){var t,i=0;i=window.innerHeight-(null===(t=n.current)||void 0===t?void 0:t.offsetTop)-1,e&&(i-=e),s(i-70)}};return(0,r.useEffect)((function(){return l(),window.addEventListener("resize",l),function(){return window.removeEventListener("resize",l)}}),[]),(0,r.useEffect)((function(){l()}),[null===(t=n.current)||void 0===t?void 0:t.offsetTop]),u}},7202:function(n,e,t){var i=t(9439),r=t(7313);e.Z=function(){var n=(0,r.useState)({windowInnerWidth:window.innerWidth,windowInnerHeight:window.innerHeight}),e=(0,i.Z)(n,2),t=e[0],o=e[1];return(0,r.useEffect)((function(){return window.addEventListener("resize",(function(){o({windowInnerWidth:window.innerWidth,windowInnerHeight:window.innerHeight})})),function(){window.removeEventListener("resize",(function(){o({windowInnerWidth:window.innerWidth,windowInnerHeight:window.innerHeight})}))}}),[]),t}},6174:function(n,e,t){t.d(e,{A:function(){return c}});var i=t(1413),r=t(5987),o=["totalArea","builtArea"],c=function(n){return n.map((function(n){n.totalArea,n.builtArea;var e=(0,r.Z)(n,o);return(0,i.Z)({},e)}))}}}]);